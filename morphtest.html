<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Smart Farm Sim! Alpha</title>
        <link rel="shortcut icon" href="http://snap.berkeley.edu/fav3.gif" type="image/gif">
		
		<!-- Custom -->
		<script type="text/javascript" src="size/area.js"></script>
		<script type="text/javascript" src="size/length.js"></script>
		<script type="text/javascript" src="size/mass.js"></script>
		<script type="text/javascript" src="size/volume.js"></script>
		<script type="text/javascript" src="patch.js"></script>
		
		<!-- Morphic -->
		<script type="text/javascript" src="morphic.js"></script>
		
		<!-- Widgets -->
		<script type="text/javascript" src="widgets/push_button_morph.js"></script>
		<script type="text/javascript" src="widgets/toggle_button_morph.js"></script>
		<script type="text/javascript" src="widgets/tab_morph.js"></script>
		<script type="text/javascript" src="widgets/toggle_morph.js"></script>
		<script type="text/javascript" src="widgets/toggle_element_morph.js"></script>
		<script type="text/javascript" src="widgets/dialog_box_morph.js"></script>
		<script type="text/javascript" src="widgets/alignment_morph.js"></script>
		<script type="text/javascript" src="widgets/input_field_morph.js"></script>
		<script type="text/javascript" src="widgets/control_bar_morph.js"></script>
		<script type="text/javascript" src="widgets/tab_panel_morph.js"></script>
		<script type="text/javascript" src="widgets/text_box_morph.js"></script>
		
		<!-- Snap -->
		<script type="text/javascript" src="blocks.js"></script>
		<script type="text/javascript" src="threads.js"></script>
		<script type="text/javascript" src="objects.js"></script>
		<script type="text/javascript" src="lists.js"></script>
		
		<script type="text/javascript" src="blocks/size_reporter_block_morph.js"></script>
		<script type="text/javascript" src="blocks/patch_reporter_block_morph.js"></script>
		
		
		<!-- Simulator -->
		<!--
		<script type="text/javascript" src="sim/sprites/crop_sprite_morph.js"></script>
		<script type="text/javascript" src="sim/sprites/soil_sprite_morph.js"></script>
		<script type="text/javascript" src="sim/sprites/weather_sprite_morph.js"></script>
		<script type="text/javascript" src="sim/sprites/pest_sprite_morph.js"></script>
		<script type="text/javascript" src="sim/sprites/disease_sprite_morph.js"></script>
		<script type="text/javascript" src="sim/sprites/field_morph.js"></script>
		-->
		
		<!-- test -->
		<script type="text/javascript" src="field_morph_test.js"></script>
		
		
		<!-- Gui -->
		<!--
		<script type="text/javascript" src="gui.js"></script>
		<script type="text/javascript" src="gui/script_editor_morph.js"></script>
		<script type="text/javascript" src="gui/description_editor_morph.js"></script>
		<script type="text/javascript" src="gui/sprite_corral_morph.js"></script>
		<script type="text/javascript" src="gui/sprite_editor_morph.js"></script>
		<script type="text/javascript" src="gui/icons/sprite_icon_morph.js"></script>
		<script type="text/javascript" src="gui/icons/crop_sprite_icon_morph.js"></script>
		<script type="text/javascript" src="gui/icons/soil_sprite_icon_morph.js"></script>
		<script type="text/javascript" src="gui/icons/weather_sprite_icon_morph.js"></script>
		<script type="text/javascript" src="gui/icons/pest_sprite_icon_morph.js"></script>
		<script type="text/javascript" src="gui/icons/disease_sprite_icon_morph.js"></script>
		<script type="text/javascript" src="gui/time_control_morph.js"></script>		
		
		
		<script type="text/javascript" src="system_models\operations.js"></script>
		<script type="text/javascript" src="system_models\soils.js"></script>
		<script type="text/javascript" src="system_models\crops.js"></script>
		<script type="text/javascript" src="system_models\weathers.js"></script>
		<script type="text/javascript" src="system_models\pests.js"></script>
		<script type="text/javascript" src="system_models\diseases.js"></script>
		<script type="text/javascript" src="system_models\farms.js"></script>-->
		<script type="text/javascript" src="system_models\operations.js"></script>
		<!-- <script type="text/javascript" src="simulator.js"></script> -->
	
		
		<script type="text/javascript" src="paint.js"></script>
		<script type="text/javascript" src="byob.js"></script>
		<script type="text/javascript" src="xml.js"></script>
		<script type="text/javascript" src="store.js"></script>
		<script type="text/javascript" src="locale.js"></script>
		<script type="text/javascript" src="cloud.js"></script>
		<script type="text/javascript" src="sha512.js"></script>
		
		
		<script type="text/javascript">
			var world;
			var system;
			var block1;
			var button;
			
			var ResultText;
			
			window.onload = function () {
				
				world = new WorldMorph(document.getElementById('world'));
			
				system = new OperationSystemMorph();
				
				system.setPosition( world.topLeft() );
				system.setWidth( 1024 );
				system.setHeight( 680 );

				block1 = new SizeReporterBlockMorph(Volume);
				//block1.isDraggable = true;
				system.add(block1);
				
				ResultText = new StringMorph("0");
				system.add( ResultText );
				ResultText.setPosition( new Point( 5,5));
				
				
				button = new ToggleButtonMorph(  [new Color( 255, 0, 0) , new Color( 0, 255,0), new Color( 0,0,255) ],
												system,
												function(){ 
																if(ResultText) { ResultText.destroy(); }
																ResultText = new StringMorph(block1.evaluate().toString());
																system.add(ResultText);
																ResultText.setPosition( new Point( 5, 5));
															},
												"Test");
												
				system.add( button);
				button.setPosition( new Point( 300, 200) );
				
				block1.setPosition( new Point( 50, 50) );
				
				world.add( system );
				setInterval(loop, 1);
			};
			function loop() {
				world.doOneCycle();
			}
		</script>
	</head>
	<body style="margin: 0;">
		<canvas id="world" tabindex="1" style="position: absolute;" />
    </body>
</html>
